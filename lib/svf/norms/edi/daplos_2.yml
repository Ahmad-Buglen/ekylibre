---
root:
  - interchange: 1

lines:
  interchange:
    key: "EI"
    occurrence: 1
    cells:
      - farm_siret: string-14
      - farm_code: string-3
      - receiver_siret: string-14
      - receiver_code: string-3
      - document_count: string-4
    children:
      - header: 1
      - entities: 3
      - agricultural_usages: "*"
      - crops: "*"

  header:
    key: "DE"
    occurrence: 1
    cells:
      - reference: string-35
      - function: string-1
      - printed_on: string-8
      - crop_count: string-4
      - version: string-4

  entity:
    key: "DA"
    occurrence: 3
    cells:
      - entity_nature: string-3
      - siret: string-17
      - identification_nature: string-3
      - entity_name: string-35
      - entity_name_complement: string-35
      - entity_address: string-35
      - entity_address_complement: string-35
      - entity_town: string-35
      - entity_postal_code: string-9
      - entity_country: string-2
      - entity_informations_1: string-20
      - entity_informations_2: string-20
      - entity_informations_3: string-20
      
  
  agricultural_usage:
    key: "DT"
    cells:
    - activity_nature: string-3
    - certificat_number: string-20
    - other_activity_nature: string-20

  crop:
    key: "DP"
    cells:
      - land_parcel_order_number: string-4
      - land_parcel_work_number: string-4
      - harvest_year: string-4
      - crop_started_on: string-8
      - crop_sheet_created_on: string-8
      - crop_sheet_updated_on: string-8
      - crop_stopped_on: string-8
      - crop_specie_edicode: string-3 #18 List_BotanicalSpecies_CodeType
      - first_variety: string-7 #GNIS code
      - second_variety: string-7 #GNIS code
      - third_variety: string-7 #GNIS code
      - fourth_variety: string-7 #GNIS code
      - fifth_variety: string-7 #GNIS code
      - crop_specie_number: string-3 #
      - crop_sowing_period_edicode: string-3 #30 List_SowingPeriodCode_CodeType
      - crop_final_usage_edicode: string-3 #17 List_AgriculturalProduceUseCode_CodeType
      - provisionnal_yield: string-9
      - provisionnal_yield_unity: string-3
      - crop_name_details: string-35
      - cap_islet_number: string-10 # CAP islet number4
      - perrenial_crop_number: string-10
      - town_insee_code: string-3 #INSEE code
      - soil_depth: string-3 #in centimeter
      - soil_rock_ratio: string-3 #in percentage
      - soil_nature_edicode: string-3 #43 List_SoilType_CodeType
      - other_soil_nature: string-35
      - soil_acidity: string-3
      - subsoil_level: string-3
      - subsoil_nature: string-3
      - intermediate_crop: string-3
      - hydromorphic_soil: string-1
      - drain_soil: string-1
      - cutting_land_parcel: string-1
      - initial_land_parcel_work_number: string-4
      - residue_management: string-3
      - residue_input: string-9 # in ton_per_hectare
      
    children:
      - cadastral_areas: "*"
      - crop_areas: "*"
      - contracts: "*"
      - crop_histories: "*"
      - soil_analyses: "*"
      - interventions: "*"
  
  cadastral_area:
    key: "PC"
    cells:
      - land_parcel_number: string-8
      - harvest_year: string-4
      - area_nature_edicode: string-3 #41 List_AgriculturalArea_CodeType
      - area_nature_value: string-9
    children:
      - cadastral_spatial_coordinates: "*"
  
  cadastral_spatial_coordinate:
    key: "CC"
  
  crop_area:
    key: "PS"
    cells:
      - land_parcel_number: string-8
      - harvest_year: string-4
      - area_nature_edicode: string-3 #41 List_AgriculturalArea_CodeType
      - area_nature_value: string-9
    children:
      - crop_spatial_coordinates: "*"

  crop_spatial_coordinate:
    key: "SC"
    cells:
      - land_parcel_number: string-8
      - harvest_year: string-4

  contract:
    key: "PE"
  
  crop_history:
    key: "PH"
    cells:
      - land_parcel_number: string-8
      - harvest_year: string-4
      - undefined_A: string-6
      - crop_edicode: string-3 #18 List_BotanicalSpecies_CodeType
      - undefined_B: string-35
      - crop_final_usage_edicode: string-3 #17 List_AgriculturalProduceUseCode_CodeType
      - crop_sowing_period_edicode: string-3 #30 List_SowingPeriodCode_CodeType
      - unknow_A_edicode: string-3 #
      - unknow_B_edicode: string-3 #
    children:
      - enrichments: "*"
  
  enrichment:
    key: "HA"
  
  soil_analysis:
    key: "PA"
  
  intervention:
    key: "PV"
    cells:
      - land_parcel_number: string-8
      - harvest_year: string-4
      - intervention_id: string-32
      - blank_1: string-1
      - intervention_category_edicode: string-3 #26 List_PlotAgriculturalProcess_CodeType
      - intervention_state_edicode: string-3 #11 List_PlotAgriculturalProcessSubordinateTypeCode_CodeType
      - intervention_name: string-35
      - intervention_started_on: string-8
      - unknow_code: string-4
      - intervention_stopped_on: string-8
      - blank_2: string-56
      - intervention_nature_edicode: string-3 #14 List_AgriculturalProcessWorkItem_CodeType
      - blank_3: string-156
      - unknow_number: string-9
      - per_area_edicode: string-3 #ZKK
      - working_area_in_hectare: string-9
    children:
      - intervention_spatial_coordinates: "*"
      - intervention_targets: "*"
      - inputs: "*"
      - outputs: "*"
      - decision_indicator: 1
      
  intervention_spatial_coordinate:
    key: "VC"
    
  intervention_target:
    key: "VB"
 
  input:
    key: "VI"
    cells:
      - land_parcel_number: string-8
      - harvest_year: string-4
      - intervention_id: string-32
      - input_nature_edicode: string-3 #5 List_AgriculturalProcessCropInput_CodeType
      - input_name: string-83
      - input_phytosanitary_number: string-7
      - blank_1: string-38
      - unknow_A_edicode: string-3
      - unknow_B_edicode: string-3
      - blank_2: string-27
      - input_quantity: string-9
      - input_unity_edicode: string-3 #36 List_UnitCode
      - input_quantity_per_hectare: string-9
      - per_area_edicode: string-3 #ZKK
    children:
      - input_components: "*"
      - input_trackings: "*"
      - residue_analyses: "*"

  input_component:
    key: "IC"
    cells:
      - land_parcel_number: string-8
      - harvest_year: string-4
      - intervention_id: string-32
      - indicator_nature_edicode: string-3 #20 List_CropInputChemical_CodeType
      - indicator_quantity: string-9
  
  input_tracking:
    key: "IL"
  
  residue_analysis:
    key: "IA"
  
  output:
    key: "VR"
    children:
      - output_components: "*"
      - output_trackings: "*"
  
  output_tracking:
    key: "RL"
    
  output_component:
    key: "LC"
    
  decision_indicator:
    key: "VH"
