<?xml version="1.0"?>
<procedures xmlns="http://www.ekylibre.org/XML/2013/procedures">
  <procedure name="animal_antibiotic_treatment" categories="animal_treating" actions="disease_treatment">
    <parameters>
      <parameter name="animal" type="target" filter="is animal"/>
      <parameter name="animal_medicine" type="input" filter="can care(animal)">
        <handler indicator="net_mass" unit="gram"
                 if="SELF.net_mass(gram) > 0"
                 backward="(VALUE * SELF..net_mass(gram))" forward="(VALUE / SELF..net_mass(gram))"/>
        <handler indicator="net_volume" unit="milliliter"
                 if="SELF.net_volume(milliliter) > 0" to="population"
                 backward="(VALUE * SELF..net_volume(milliliter))" forward="(VALUE / SELF..net_volume(milliliter))"/>
      </parameter>
      <parameter name="caregiver" type="doer" filter="can administer_care(animal)"/>
    </parameters>
  </procedure>
</procedures>
