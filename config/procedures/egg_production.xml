<?xml version="1.0"?>
<procedures xmlns="http://www.ekylibre.org/XML/2013/procedures">
  <procedure name="egg_production" natures="egg_production" version="0">
    <variables>
      <variable name="bird_band" variety="aves" abilities="produce(egg)" roles="egg_production-target"/>
      <variable name="eggs" variety="egg" derivative-of="variety:bird_band" new="produced-by: bird_band" roles="egg_production-output" default-name="{{variant}} [{{birth_day}}/{{birth_month}}/{{birth_year}}] ({{container}})">
        <handler indicator="population"/>
      </variable>
      <variable name="doer" variety="worker" roles="egg_production-doer"/>
      <variable name="container" abilities="store(egg)"/>
    </variables>
    <operations>
      <operation id="1">
        <!-- Operation 100 -->
        <task do="[doer] moves at [bird_band]"/>
        <!-- Operation 200 -->
        <task do="[bird_band] produces [eggs]"/>
        <!-- Operation 300 -->
        <task do="[doer] moves at [container]"/>
        <task do="[eggs] is in [container]"/>
      </operation>
    </operations>
  </procedure>
</procedures>
