<?xml version="1.0"?>
<procedures xmlns="http://www.ekylibre.org/XML/2013/procedures">
  <procedure name="sorting" natures="product_evolution, product_moving" version="0">
    <variables>
      <variable name="sortable" variety="seedling"/>
      <variable name="sortable_to_sort" variety=":sortable" derivative-of=":sortable" new="parted-from: sortable" roles="product_moving-target, product_evolution-target" default-name="{{variant}} [{{birth_day}}/{{birth_month}}/{{birth_year}}] ({{container}})" default-population=":sortable">
        <handler indicator="population"/>
      </variable>
      <variable name="container" abilities="store(product)" roles="product_moving-container" default-actor="default_storage_of_support"/>
      <variable name="doer" variety="worker" abilities="move" roles="product_moving-doer"/>
      <variable name="variant" type="variant" variety=":sortable" derivative-of=":sortable" roles="product_evolution-variant"/>
    </variables>
    <operations>
      <operation id="1">
        <!-- Operation 700 -->
        <task do="[doer] acts on [sortable]"/>
        <task do="[sortable] parts with [sortable_to_sort]"/>
        <task do="[sortable_to_sort] variant cast into [variant]"/>
        <task do="[sortable_to_sort] moves in [container]"/>
      </operation>
    </operations>
  </procedure>
</procedures>
