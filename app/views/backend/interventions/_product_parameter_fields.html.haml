- f.object.reference_name = reference.name
.nested-fields.nested-product-parameter{class: "nested-#{reference.name.to_s.parameterize}", data: { intervention_parameter: reference.name } }
  = link_to_remove_nested_association(:destroy.ta, f)
  = f.input :reference_name, as: :hidden
  - if reference.input?
    = f.referenced_association :product, label: reference.human_name, source: {scope: reference.scope_hash.merge(availables: true)}, input_html: { data: { intervention_updater: 'product', intervention_field: 'product' }}
    = render 'quantifier_field', f: f, reference: reference
  - elsif reference.output?
    = f.referenced_association :variant, label: reference.human_name, source: {scope: reference.scope_hash.merge(availables: true)}, input_html: { data: { intervention_updater: 'variant', intervention_field: 'variant' }}
    -# = render 'quantifier_field', f: f, reference: reference
  - else
    = f.referenced_association :product, label: reference.human_name, source: {scope: reference.scope_hash.merge(availables: true)}, input_html: { data: { intervention_updater: 'product', intervention_field: 'product' }}
