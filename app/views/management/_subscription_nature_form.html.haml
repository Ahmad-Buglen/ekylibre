=formalize do |f|
  - f.error :subscription_nature
  -if @subscription_nature.new_record?
    - f.field :subscription_nature, :nature, :field=>:radio, :choices=>SubscriptionNature.natures
  -else
    - f.field t('activerecord.attributes.subscription_nature.nature'), @subscription_nature.nature_label
  - f.field :subscription_nature, :name
  - f.field :subscription_nature, :reduction_rate
  - f.field :subscription_nature, :entity_link_nature_id, :choices=>@current_company.entity_link_natures.collect{|x| [x.name, x.id]}, :options=>{:include_blank=>true}
  - f.field :subscription_nature, :comment, :field=>:textarea
=formalize(:id=>:number) do |f|
  - f.field :subscription_nature, :actual_number


:javascript
  function display_number(){
    if($('subscription_nature_nature_quantity').checked)
      $('number').show();
    else
      $('number').hide();
  }
  display_number();


=observe_field("subscription_nature_nature_quantity", :frequency=>0.25, :function=> "display_number();")
