=toolbar do
  - link :statements_display, :id=>@bank_account_statement.id
  - link :statements

%table.dyta
  %tr
    %th="&nbsp"
    %th=tc(:statement_number)
    %th=tc(:recorded_on)
    %th=tc(:entry_name)
    %th=tc(:entry_debit)
    %th=tc(:entry_credit)
  - @entries.each do |entry|
    - attr = cycle("even", "odd")
    - check = entry.statement_id.nil? ? false : true  
    %tr{:class => (entry.statement_id ? ((entry.statement_id.eql? session[:statement].to_i) ? "pointable" : "pointabled") : "unpointable")+" "+attr, :id=> 'e'+entry.id.to_s}
      %td=check_box("entry", "statement_id", :checked=>check, :onclick => remote_function(:after => "var element=$('e"+entry.id.to_s+"'); if (element.hasClassName('pointable "+attr+"')) { element.removeClassName('pointable "+attr+"'); element.addClassName('unpointable "+attr+"'); } else if (element.hasClassName('unpointable "+attr+"')) { element.removeClassName('unpointable "+attr+"'); element.addClassName('pointable "+attr+"'); } else { element.removeClassName('pointabled "+attr+"'); element.addClassName('unpointable "+attr+"'); }", :url => { :action => 'statements_point', :id => entry.id}))
      %td{:id => 'entry_number_'+entry.id.to_s}=entry.statement.nil? ? "&nbsp" : link_to(entry.statement.number, :action=>:statements_display, :id=>entry.statement.id) 
      %td=I18n.localize(entry.record.created_on)
      %td=entry.name
      %td.decimal=entry.debit
      %td.decimal=entry.credit
  
.total
  %table.dyta
    %tr
      %th=tc(:total)
      %td#total_debit=@bank_account_statement.credit || 0
      %td#total_credit=@bank_account_statement.debit || 0
  
%br
#total=render :partial=>'statements'






