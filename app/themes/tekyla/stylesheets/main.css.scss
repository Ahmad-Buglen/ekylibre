html, body, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, a, abbr, acronym, address, big, cite, code, del, dfn, em, img, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, var, b, u, i, center, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td, article, aside, canvas, details, embed, figure, figcaption, footer, header, hgroup, menu, nav, output, ruby, section, summary, time, mark, audio, video, input, textarea, select, options {
  margin:0;
  padding:0;
  font-family: $base-font-family;
  vertical-align: middle;
  font-size: $fs-normal;
  color: $text-color;
  @include text-align(left);
}

td, th, a, p, input, textarea, select, div { font-size: $fs-normal;}
small, sup, sub { font-size: $fs-small; }
a:link, a:visited, a:focus { color: $link-color; text-decoration: none;}
// a:hover { color: $link-color; text-decoration: underline;}

#top {
  margin-bottom: 0;
  @include background-active-gradient;
  @include box-shadow(0 0 $fs-normal rgba(#000, 0.4));
}

html.backend {
  background: #F7F7F7;
  body {
    background: transparent;
    height: 100%;
    #wrap {
      @include outerRow();
      width: 100% !important;
      height: 100%;
      #side {
        @include column(2);
        height: 100%;
        padding: 0;
      }
      #main {
        @include column(10);
        height: 100%;
        #header {
          margin-bottom: $default-gap;
          h1 {
            &, & * {
              font-size: $fs-huge;
              line-height: round(1.4 * $fs-huge);
	      vertical-align: middle;
            }
          }
        }
      }
    }
  }
}

html.authentication {
  background: #F7F7F7;
  @include background(radial-gradient(top, #FFF, #F7F7F7, #C2C2C2));
  height: 100%;
  body {
    background: transparent;
    height: 100%;
    #wrap {
      width: 100% !important;
      background: transparent;
      border-top: 2px solid $active-color;
      #main {
        background: transparent;
        #content {
          background: #FFF;
          @include incrust-shadow;
          padding: 20px;
          margin: 60px auto;
          width: 40%;
          @include respondTo(smallScreen) {
            margin: auto;
            width: 100%;
          }
          .logo {
            text-align: center;
          }
          h2 {
            font-size: $fs-large;
            line-height: round(1.6*$fs-large);
	    margin-bottom: round(0.4*$fs-large);
          }
          label {
            display: inline;
            line-height: round(1.6*$fs-normal);
          }
          input {
            display: inline;
            &[type="submit"] {
	      display: block;
              margin: 10px auto;
            }
          }
        }
      }
    }
  }
}

	  #main-toolbar {
            @include button-group();
	    @include float(right);
            margin-top: $default-gap;
            .btn {
              .icon { margin: 0; }
	      .text { display: none; }
	    }
	  }

#about-us {
  .logo {
    margin: 20px auto;
  }
  dl {
    display: block;
    margin: 0 auto;
    dt {
      font-weight: bold;
      margin-top: round(0.5*$fs-normal);
    }
    dd {
      @include margin-left(2*$fs-normal);
    }
  }
  width: 40%;
  margin: 0 auto;
  @include respondTo(smallScreen) {
    width: 100%;
  }
}

#major-accounts {
  @include tab-pills;
}

#journals {
  @include tab-pills;
  dd i {
    @include is-icon;
    @include use-icon(book);
  }
}

.journal-views {
  @include tab-pills;
  dd i {
    @include is-icon;
    @include use-icon(eye-open);
  }
}

ul.side-menu {
  margin: $default-gap;
  $transp: 40%;
  @include incrust-shadow;
  @include border-radius($default-border-radius);
  li {
    display:block;
    margin-top: -1 * $menu-border-width;
    $padding: round($fs-normal*0.7) (round($fs-normal*1)+16px)  round($fs-normal*0.7) round($fs-normal*0.7);
    a {
        background: white;
        display:block;
        padding: $padding;
        border: $menu-border;
        @include ellipsis;
        i {
          @include is-icon;
          display: block;
          @include float(right);
          width: 16px;
          text-align: center;
          margin: 0 -1*(round($fs-normal*0.5)+16px) 0 0;
          &.icon-up { @include use-icon(chevron-up); }
          &.icon-inside { @include use-icon(chevron-right); }
          color: inherit;
          line-height: inherit;
        }
      }
      &:first-child {
        margin-top: 0;
        a {
          @include border-top-left-radius($default-border-radius);
          @include border-top-right-radius($default-border-radius);
        }
      }
      &:last-child a {
        @include border-bottom-left-radius($default-border-radius);
        @include border-bottom-right-radius($default-border-radius);
      }
      &:hover a {
        background: mix(white, $menu-border-color, 80%);
        text-decoration: none;
      }
      &.current, &.active {
        position: relative;
        z-index: 2;
        a {
          //background: $base-color;
          @include background-active-gradient;
          padding: $padding + 1;
          border: none;
          color: white;
        }
      }
   }
}

/*
ul.side-menu {
  margin-top: $fs-normal;
  li {
    a {
      display: block;
      padding: round(0.5*$fs-normal) $fs-normal;
    }
    &.active {
      a {
        background: $active-color;
      }
    }
  }
}*/

.picture {
  background: white;
  border: 1px solid #DDDDDD;
  box-shadow: 0 0 7px rgba(0, 0, 0, 0.2);
  @include float(left);
  @include margin-right($default-gap);
  padding: 7px;
}

.info {
  @include ellipsis;
  &, & * {
    font-size: $fs-large;
    line-height: round($fs-large * 1.4);
    vertical-align: baseline;
  }
  span.title {
    width: 20%;
    @include text-align(right);
    color: #777;
    // @include padding-right($default-gap);
  }
  span.value {
    &, & * {
      font-weight: bold;
    }
  }
}

.attributes-list {
  @include column-count(3);
  @include column-gap(2em);
  @include respondTo(smallScreen) {
    @include column-count(1);
  }
  @include respondTo(mediumScreen) {
    @include column-count(2);
    @include column-gap(1.5em);
  }
/*  @include respondTo(largeScreen) {
    @include column-count(4);
  }
*/
  $label-width: 40%;
  margin-bottom: 1em;
  dl {
    @include clearfix;
    margin: 0;
    dt {
      @include item-label;
      width: 0.95*$label-width;
      @include float(left);
      @include ellipsis;
    }
    dd {
      @include margin-left($label-width);
    }
  }
}


#legals, footer {
  font-size: $fs-small;
  line-height: round(1.4*$fs-small);
  @include text-align(center);
  padding: round(0.7*$fs-small);
  color: rgba(#000,0.6);
  @include text-shadow(1px 1px 1px #FFF);
}













.content {
  $content-font-size: round($fs-normal*0.9);
  clear: both;
  * {
    vertical-align: baseline;
    color: $text-color; line-height: 1.2em; font-size: $content-font-size;
  }
  h1 { @include title($fs-normal); margin: 0px 0 8px; text-transform: uppercase; letter-spacing: 1px;}
  h2 { @include title($fs-normal); margin: 8px 0 4px; border-bottom: $menu-border; }
  h3 { @include title($content-font-size); margin: 4px 0 2px 10px; color: $text-color; }
  pre { font-family: "Liberation Mono", monospace; color: #777; background: #FFF; padding: $default-gap; margin: $default-gap 0; }
  strong { font-weight: bold; }
  em { font-style: italic; }
  ul, ol {
    padding: 0;
    @include padding-left(1.3*$content-font-size);
    margin: 0 0 $default-gap 0;
  }
  ul li { list-style-type: square; }
  ol li { list-style-type: decimal; }
  dl {
    padding: 0 0.1em; margin-bottom: 0.2em;
    dt { margin-top: .2em; font-weight: bold; color: #210 }
    dd { margin-bottom: .2em; margin-left: 1em; }
  }
  a img { border: $menu-border-width solid $link-color; padding: $menu-border-width; }
  p {
    /*@include text-align(justify);*/
    margin: 0 0 $default-gap 0;
    &.notice { border-left: $default-gap solid #7A4; background: #CE8; padding: round($default-gap/2) $default-gap; }
    &.warning { border-left: $default-gap solid #FA0; background: #FD9; padding: round($default-gap/2) $default-gap; }
  }
  .text-end { height: 1px; }
  .help-error {  @include text-align(center); margin: $default-gap 0; color: mix($text-color, $menu-background, 50%); @include text-shadow($menu-border-width $menu-border-width 0 $desktop-background) }
  .content .md {
    display:block;
    &.md-center { margin: round($default-gap/2) auto; }
    &.md-left   { margin: round($default-gap/2); @include float(left); }
    &.md-right  { margin: round($default-gap/2); @include float(right); }
  }
}


.flash {
  padding: $default-gap;
  margin-bottom: $default-gap;
  vertical-align: middle;
  color: black;
  border: $menu-border;
  @include border-radius($default-border-radius);
  @include incrust-shadow;
  $icon-size: 48px;
  .icon {
    @include float(left);
    @include is-icon(48px);
    width: $icon-size;
    display: block;
    text-align: center;
  }
  .message {
    @include margin-left($icon-size + $default-gap);
    h3 {
      font-size: $fs-normal;
      font-weight: bold;
      $gap: floor(($default-gap - $menu-border-width)/2);
      padding: 0 0 $gap;
      margin-bottom: $default-gap - $menu-border-width - $gap;
      border-bottom: $menu-border-width dotted #999;
    }
    ul {
      padding: round($fs-normal/4);
      @include padding-left(round(1.2*$fs-normal));
      li { list-style-type: square; }
    }
  }
  .end {
    clear: both;
    height: 0;
  }
  @each $level in (error #E10 remove-circle), (warning #F81 warning-sign), (success #8B1 ok-circle), (information $active-color info-sign) {
    $level-name: nth($level, 1);
    $level-color: change-color(nth($level, 2), $lightness: 40%);
    &.#{$level-name} {
      &, & .message h3 { border-color: $level-color;}
      * { color: $level-color; }
      background-color: mix($level-color, $desktop-background, 10%);
      // .icon { @include common-sprite(notification-#{$level-name}); }
      .icon { @include use-icon(nth($level, 3)); }

    }
  }
}

.checkbox-true, .checkbox-false {
  @include is-icon(14px);
  width: 14px;
  &:hover {
    cursor: default;
    pointer-events: none;
  }
}
.checkbox-true { @include use-icon(check); }
.checkbox-false { @include use-icon(check-empty); }



.fieldset {
  @include border-radius($default-border-radius);
  $vertical-gap: round($default-gap*0.7);
  padding: $vertical-gap $default-gap;
  margin: 0 0 $default-gap;
  $fieldset-border: $menu-border;
  border: $fieldset-border;
  @include incrust-shadow;
  $size: $fs-normal;
  background: white;
  .fieldset-legend {
    padding: 0;
    label, span {
      color: $neutral-color;
      font-size: $size;
      line-height: round(1.2*$size);
    }
    font-weight: bold;
    vertical-align: middle;
    .icon {
      @include is-icon;
      @include inline-block;
      @include use-icon(file);
      color: $neutral-color;
      @include margin-right(round($size/4));
    }
    [data-toggle-set] {
      cursor: default;
      @include inline-block;
      @include float(right);
      $tool-size: 12px;
      width: $tool-size;
      height: $tool-size;
      @include border-radius(2px);
      @include is-icon(9px);
      border: 1px solid $neutral-color;
      padding: 1px 2px;
      margin: round(($size - $tool-size - 1px)/2) 0 0;
      @include background(linear-gradient(top, #FFF, #EEE));
      &:hover {
	background: $neutral-color;
        color: white;
      }
      &.collapsed { @include use-icon(plus); }
      &.not-collapsed { @include use-icon(minus); }
    }
  }
  @each $field_set in (delay time), (document briefcase), (general-informations book), (stock exchange), (group group), (movement exchange), (accountancy money), (coordinates map-marker), (amount money), (vegetable leaf), (genealogy sitemap), (animal github-alt), (entity user) { //asset,
    &##{ nth($field_set, 1) }-fieldset .fieldset-legend .icon {
      @include use-icon(nth($field_set, 2));
    }
  }

  textarea {
    width: 70%;
    resize: vertical;
  }
  .fieldset-fields {
    //border-top: $fieldset-border;
    border-top: 2px solid $active-color;
    margin-top: $vertical-gap;
    padding-top: $vertical-gap;
  }
  .actions { border-left: none; border-right: none; border-bottom: none; margin-top: 8px}
  .input {
    padding: round($fs-normal*0.2) 0;
    margin: round($fs-normal*0.1) 0;

    .control-label {
      width: 25%;
      @include float(left);
      line-height: 1.4*$fs-normal;
      @include inline-block;
      @include margin-right(round($fs-normal/2));
      &.required {
        abbr {
          color: red;
          float: right;
        }
      }
    }
    input{
      max-width: 65%;
    }
  }
}

.help-inline {
  display: inline-block;
  *display: inline;
  padding-left: 5px;
  vertical-align: middle;
  *zoom: 1;
  color:  rgb(237, 0, 78);
}

$controls-margin-left: round($label-width * 1.1);

.control-group {
  margin: round($fs-normal/4) 0;
  padding: round($fs-normal/4) 0;
  @include clearfix;
  .control-label {
    width: $label-width;
    @include float(left);
    line-height: round(1.4*$fs-normal);
    margin: round($fs-normal/4) 0;
    @include display(block);
    @include ellipsis;
    &.required {
      abbr {
        color: red;
        float: right;
      }
    }
  }
  .controls {
    @include margin-left($controls-margin-left);
    width: 100% - $controls-margin-left;
    input, select, textarea {
      max-width: 100% - $controls-margin-left;
    }
    .btn-new {
      .icon { @include margin-right(0); }
      .text { display: none; }
    }
  }
  &.selector .controls .input{
    @include toolbar;
  }
}

.input-append {
  // @include button-group;
  .btn {
    .text { display: none; }
    .icon { margin-left: 0; margin-right: 0; }
  }
}


input[data-selector] {
  display: inline;
  margin-bottom: 0;
  width: auto;
}
span.selector, .input-append {
  @include toolbar;
}

span.rad, label.radio {
  padding: round($fs-normal/8) 0;
  @include margin-left(round($fs-normal/2));
  * { vertical-align: middle; }
  &:first-child {
    @include margin-left(0);
  }
  input {
    @include margin-right($fs-normal/4);
  }
}


.form-actions {
  @include text-align(center);
  input, a, span {
    @include text-align(center);
    @include margin-left($fs-normal);
    &:first-child { @include margin-left(0) }
  }
  padding: round($fs-normal) !important;
  background: $menu-background;
  /*border-top: $menu-border;*/
  margin: 0;
}


.kujaku {
  color: #580;
  margin: 0 0 $default-gap 0;
  padding: $default-gap;
  background: $neutral-background;
  @include border-radius($default-border-radius);
  @include clearfix;
  $search-width: 60px;
  .crits {
    padding: 0;
    @include margin-right($search-width);
    .crit {
      border-top: $menu-border-width solid darken($neutral-background, 5%);
      // padding: round($fs-normal/6) round($fs-normal/4);
      padding: round($default-gap * 0.6);
      vertical-align: middle;
      text-align:center;
      label { color: $neutral-color; }
      &:first-child {
        border-top: none;
        padding-top: 0;
      }
      &:last-child {
        padding-bottom: 0;
      }
    }
  }
  .submit {
    padding: 0;
    width: $search-width - $default-gap;
    text-align: center;
    @include float(right);
    button {
      display: block;
      padding: $default-gap;
      font-size: 0;
      i {
        @include is-icon(24px);
        @include use-icon(search);
      }
    }
  }
  input, label, select {
    display: inline;
    margin-bottom: 0;
    width: auto;
  }

  &.popover {
    display: none;
    position: absolute;
    right: $default-gap;
    top: 80px;
    z-index: 10000;
    margin: 0;
    background: white;
    @include box-shadow(0 0 $fs-small rgba(#000, 0.5));
    @include border-radius($default-border-radius);
  }
}



#help {
  display: none;
  float: left;
  @include box-shadow(0 0 15px rgba(#000, 0.3));
  background: white;
  position: absolute;
  width: 30*$fs-normal;
  left:$menu-width+$fs-normal;
  top: $fs-normal;
  padding: $fs-small;
  z-index: 10000;
  height: 90%;
  overflow: auto;
}

.ui-dialog {
  position: absolute;
  background: $menu-background;
  border: 2px solid $base-color;
  @include box-shadow(0 0 10px rgba(0, 0, 0, 0.3));
  overflow: hidden;
  .ui-dialog-titlebar {
    padding: 4px;
    //height: 16px;
    background: $base-color;
    .ui-dialog-title {
      margin: 4px;
      font-weight: bold;
      font-size: $fs-large;
      color: white;
      @include text-shadow(0 0 3px rgba(0,0,0,0.5));
    }
    .ui-dialog-titlebar-close {
      float: right;
      span {
        // display: block;
        // @include squish-text;
        @include is-icon;
        @include use-icon(remove);
        height: 16px;
        width: 16px;
      }
      &:hover, &:focus { padding: 0; }
    }
  }
  .ui-dialog-content {
    clear: both;
    position: relative; border: 0; padding: .5em 1em; background: none; overflow: auto; zoom: 1; }
  .ui-dialog-buttonpane {
    text-align: left; border-width: 1px 0 0 0; background-image: none; margin: .5em 0 0 0; padding: .3em 1em .5em .4em;
    .ui-dialog-buttonset { float: right; }
    button { margin: .5em .4em .5em 0; cursor: pointer; }
  }
  .ui-resizable-se { width: 14px; height: 14px; right: 3px; bottom: 3px; }
}

.ui-widget-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: transparentize($base-color, 0.8);
}


.ui-datepicker {
  display:none;
  background: $menu-background;
  padding: 4px;
  border: 1px solid #AAA;
  @include border-radius(3px);
  @include box-shadow(0 0 5px rgba(0,0,0,0.3));
  $title-line-height: 16px;
  .ui-datepicker-prev {
    float: left;
    line-height: $title-line-height;
    display: block;
    width: 16px;
    height: 16px;
    @include is-icon;
    @include use-icon(chevron-left);
    cursor: default;
    margin: 4px 3px 0;
    .ui-icon { display: none }
  }
  .ui-datepicker-next {
    float: right;
    line-height: $title-line-height;
    display: block;
    width: 16px;
    height: 16px;
    @include is-icon;
    @include use-icon(chevron-right);
    cursor: default;
    margin: 4px 3px 0;
    .ui-icon { display: none }
  }
  .ui-datepicker-title {
    padding: 4px;
    @include text-align(center);
    line-height: $title-line-height;
    * { font-weight: bold; }
  }
  table {
    border-collapse: separate;
    border-spacing: 2px;
    th {
      @include text-align(center);
      font-weight: bold;
      padding: 4px;
    }
    td {
      border: 1px solid mix($base-color, #FFF, 15%);
      padding: 0;
      @include text-align(center);
      &:hover {
        border: 1px solid #FFF;
        background: $base-color;
        a {
          color: white;
        }
      }
      &.ui-datepicker-unselectable {
        border: none;
        background: transparent;
      }
      a {
        display: block;
        padding: 4px;
        width: 4ex;
        @include text-align(center);
      }
    }
  }
}

input[data-date], input[data-datepicker] {
  @include text-align(center);
  width: 12ex;
}







.items-menu {
  position: absolute;
  @include float(left);
  background: white;
  border: 1px solid #AAA;
  z-index: 2;
  .items-list {
    max-height: 400px;
    min-width: 350px;
    overflow-y: auto;
    li {
      padding: 8px;
      *, & * { vertical-align: baseline; }
      strong { font-weight: bold }
      &.selected {
        background: rgba($base-color, 0.2);
        cursor: pointer;
      }
    }
  }
  .items-status {
    display: block;
    padding: 8px;
    background: #EFE;
    font-style: italic;
  }
}

.control-group.hidden {
  display: none;
}
.nested-fields {
  position: relative;
  .nested-remove {
    @include float(right);
    position: absolute;
    @include right(0);
    @include is-icon;
    @include use-icon(remove);
    @include display(block);
    width: 16px;
    height: 16px;
    @include hide-text();
  }
}
.links {
  margin-bottom: $fs-normal;
  .nested-add {
    @include margin-left($controls-margin-left);
  }
}


.affair {
  .deals {
    //@include padding-left(4em);
    width: 100%;
    border-collapse: collapse;
    border: none;
    padding: 0;
    margin: 0;
    tr {
      list-style-type: decimal;
      &, & * {
        font-size: $fs-normal;
	line-height: round($fs-normal*1.4);
	vertical-align: baseline;
      }
      .dealt-on { width: 16ex; }
      .amount {
        @include text-align(right);
        &.credit {
	  &, & * { color: red }
	}
        &.debit {
          &, & * { color: green }
	}
        &, & * {
          font-weight: bold;
        }
      }
    }
    tfoot.total {
      &, & * {
        @include text-align(right);
        font-weight: bold;
        background: none;
      }
      .sum {
        border-top: 1px solid #777;
      }
    }
  }

}

.rss-feed {
  .rss-title {
    font-size: $fs-large;
    margin-bottom: $default-gap;
  }
  .rss-entries {
    max-height: 400px;
    overflow-y: scroll;
    a.rss-entry {
      display: block;
      padding: $default-gap;
      border-top: 2px solid $active-color;
      &:first-child {
        border-top: none;
      }
      @include background(linear-gradient(top, rgba(#FFF, 0), rgba(#000, 0.1)));
      .rss-entry-title {
        color: $base-color;
        i {
          color: $base-color;
          @include is-icon(14px);
          @include use-icon(external-link);
        }
      }
      .rss-entry-summary { color: #777; margin-bottom: 0}
      .rss-entry-published { font-size: $fs-small; color: #777;}
    }
  }
}


svg {
  fill: #EEE;
  background: #EEE;
  path {
    fill: #AAA;
  }
  a:hover path {
    fill: $active-color;
  }
}




/* Pop overs */

#help {
  display: none;
}

